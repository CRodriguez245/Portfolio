<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design is What You Don't See - Carlos Rodriguez</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@500;700&family=Nuosu+SIL&display=swap" rel="stylesheet">
    <script src="simple-context-sidekick.js"></script>
    <script src="openai-sidekick.js"></script>
    <style>
        @font-face {
            font-family: "Helvetica Neue";
            src: url("fonts/HelveticaNeue-Light.woff2") format("woff2");
            font-weight: 300;
        }
        @font-face {
            font-family: "Helvetica Neue";
            src: url("fonts/HelveticaNeue-Medium.woff2") format("woff2");
            font-weight: 500;
        }
        @font-face {
            font-family: "Helvetica Neue";
            src: url("fonts/HelveticaNeue-Bold.woff2") format("woff2");
            font-weight: 700;
        }
        .font-helvetica {
            font-family: "Helvetica Neue", sans-serif;
        }
        .font-nuosu {
            font-family: "Nuosu SIL", serif;
        }
        .nav-link {
            position: relative;
            text-decoration: none;
        }
        .nav-link::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 1px;
            bottom: -4px;
            left: 0;
            background-color: #000000;
            transform: scaleX(0);
            transform-origin: bottom right;
            transition: transform 0.3s ease;
        }
        .nav-link:hover::after {
            transform: scaleX(1);
            transform-origin: bottom left;
        }
        .nav-link.active::after {
            transform: scaleX(1);
        }
        * {
            cursor: none;
        }
        .cursor {
            width: 12px;
            height: 12px;
            background-color: #5E5E5E;
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 99999;
            transition: transform 0.2s ease, background-color 0.3s ease;
        }
        .cursor.hover {
            transform: scale(1.5);
        }
        .cursor.navigating {
            background-color: #18A000;
            transform: scale(1.5);
        }
        input, textarea {
            cursor: text;
        }
        a, button {
            cursor: none;
        }
        .contact-dropdown {
            cursor: none;
        }
        .contact-dropdown:hover {
            cursor: none;
        }
        .contact-dropdown + div a {
            cursor: none;
        }
        
        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            .nav-link::after {
                display: none !important;
            }
            
            #ai-sidekick {
                width: 60px !important;
                height: 60px !important;
                max-width: 60px !important;
                border-radius: 0 !important;
                bottom: 20px !important;
                right: 20px !important;
                margin: 0 !important;
                left: auto !important;
            }
            
            #ai-sidekick #sidekick-button {
                width: 100% !important;
                height: 100% !important;
                padding: 0 !important;
                border-radius: 0 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
            }
            
            #ai-sidekick #sidekick-text {
                font-size: 12px !important;
                font-weight: bold !important;
            }
            
            #ai-sidekick.mobile-fullscreen {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                bottom: 0 !important;
                width: 100vw !important;
                height: 100vh !important;
                z-index: 10000 !important;
                background: white !important;
                border-radius: 0 !important;
                margin: 0 !important;
                padding: 0 !important;
                display: flex !important;
                flex-direction: column !important;
                max-width: none !important;
                max-height: none !important;
                transform: none !important;
                height: -webkit-fill-available !important;
                min-height: -webkit-fill-available !important;
            }
            
            #ai-sidekick.mobile-fullscreen #chat-container {
                display: flex !important;
                flex-direction: column !important;
                height: 100% !important;
                padding: 0 !important;
            }
            
            #ai-sidekick.mobile-fullscreen #chat-messages {
                flex: 1 !important;
                padding: 80px 20px 0 20px !important;
                overflow-y: auto !important;
                max-height: none !important;
                width: 100% !important;
                display: flex !important;
                flex-direction: column !important;
                min-height: 0 !important;
                justify-content: flex-end !important;
                margin-top: 60px !important;
                /* Safari-specific fixes */
                -webkit-overflow-scrolling: touch !important;
                -webkit-transform: translateZ(0) !important;
                transform: translateZ(0) !important;
            }
            
            /* Mobile-only: Chat messages display from bottom to top */
            #ai-sidekick.mobile-fullscreen #chat-messages p {
                margin: 0 !important;
                padding: 8px 0 !important;
                flex-shrink: 0 !important;
            }
            
            #ai-sidekick.mobile-fullscreen #chat-input-container {
                position: sticky !important;
                bottom: 0 !important;
                background: white !important;
                padding: 20px !important;
                border-top: 1px solid #e5e7eb !important;
                width: 100% !important;
                flex-shrink: 0 !important;
                -webkit-transform: translateZ(0) !important;
                transform: translateZ(0) !important;
            }
            
            #ai-sidekick.mobile-fullscreen #sidekick-button {
                position: fixed !important;
                top: 10px !important;
                right: 10px !important;
                width: 40px !important;
                height: 40px !important;
                padding: 0 !important;
                border-radius: 0 !important;
                background: rgba(255, 255, 255, 0.9) !important;
                z-index: 99999 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                border: none !important;
                left: auto !important;
                transform: none !important;
                pointer-events: auto !important;
            }
            
            #ai-sidekick.mobile-fullscreen::before {
                content: '' !important;
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                width: 100% !important;
                height: 60px !important;
                background: white !important;
                z-index: 99998 !important;
                pointer-events: none !important;
            }
            
            #ai-sidekick.mobile-fullscreen #sidekick-text {
                font-size: 24px !important;
                font-weight: bold !important;
                color: #18a000 !important;
                z-index: 99999 !important;
            }
            
            #ai-sidekick.mobile-fullscreen input, #ai-sidekick.mobile-fullscreen textarea {
                font-size: 16px !important;
                transform: translateZ(0) !important;
            }
            
            #main-content.mobile-hidden {
                display: none !important;
            }
            
            #email-popup {
                position: fixed !important;
                top: 16px !important;
                left: 65% !important;
                transform: translateX(-50%) !important;
                bottom: auto !important;
                right: auto !important;
                z-index: 10001 !important;
                background: transparent !important;
                backdrop-filter: none !important;
                border: none !important;
                border-radius: 0 !important;
                padding: 8px 12px !important;
                box-shadow: none !important;
                font-size: 12px !important;
                font-weight: 500 !important;
                color: #374151 !important;
                white-space: nowrap !important;
            }
            
            /* Mobile navigation text wrapping */
            .flex.justify-between a:last-child span:first-child {
                max-width: 120px;
                word-wrap: break-word;
                white-space: normal;
                line-height: 1.2;
                margin-right: 4px;
            }
        }
        
        @media (max-width: 768px) {
            * {
                cursor: auto;
            }
            .cursor {
                display: none !important;
            }
        }
    </style>
</head>
<body class="bg-white">
    <!-- Custom cursor -->
    <div class="cursor" id="cursor"></div>

    <!-- Main Content Area -->
    <div class="w-full md:w-3/4 overflow-x-hidden transition-all duration-500 ease-in-out" id="main-content">
        <!-- Navigation -->
        <nav class="fixed w-full md:w-3/4 z-50">
            <div class="bg-white/80 backdrop-blur-lg px-4 md:px-12 py-4 md:py-6">
                <div class="flex justify-between items-center">
                    <h1 class="text-[20px] md:text-[28px] font-nuosu">Carlos Rodriguez</h1>
                    <!-- Mobile Email Popup Space -->
                    <div class="md:hidden flex-1 mx-4"></div>
                    <div class="hidden md:flex space-x-12">
                        <a href="index.html" class="text-[16px] font-helvetica font-light nav-link relative">Home</a>
                        <a href="projects.html" class="text-[16px] font-helvetica font-light nav-link relative">Projects</a>
                        <a href="https://docs.google.com/document/d/1RXj2iDbQUYEA5Zh2meN2EXdoaU2CWZfN_qSqDnq9CNY/edit?tab=t.0" target="_blank" class="text-[16px] font-helvetica font-light nav-link relative">Resume</a>
                        <a href="about.html" class="text-[16px] font-helvetica font-light nav-link relative">About</a>
                        <div class="relative group">
                            <button class="text-[16px] font-helvetica font-light nav-link relative contact-dropdown">Contact</button>
                            <div class="absolute top-full right-0 mt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible contact-dropdown-menu transition-all duration-200 z-[9999]">
                                <div class="relative pr-4">
                                    <div class="bg-white/80 backdrop-blur-sm rounded-sm px-3 py-2">
                                        <div class="space-y-2 text-right">
                                            <p class="text-[14px] font-helvetica font-bold text-black whitespace-nowrap">Let's build something thoughtful.</p>
                                            <div class="space-y-1">
                                                <button onclick="copyEmail()" class="block text-[14px] font-helvetica font-light hover:text-[#18a000] transition-colors text-right w-full">c.a.rodriguez1999@gmail.com</button>
                                                <a href="https://www.linkedin.com/in/carloscoding/" target="_blank" class="block text-[14px] font-helvetica font-light hover:text-[#18a000] transition-colors">LinkedIn</a>
                                                <a href="https://github.com/CRodriguez245" target="_blank" class="block text-[14px] font-helvetica font-light hover:text-[#18a000] transition-colors">GitHub</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="absolute top-0 right-0 w-0.5 bg-black h-0 group-hover:h-full transition-all duration-500 ease-out"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-btn" class="md:hidden text-black">
                        <!-- Hamburger Icon -->
                        <svg class="w-6 h-6" id="hamburger-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                        <!-- X Icon -->
                        <svg class="w-6 h-6 hidden" id="x-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <!-- Mobile Navigation Menu -->
                <div id="mobile-menu" class="md:hidden hidden pt-4">
                    <div class="flex flex-col space-y-4">
                        <a href="index.html" class="text-[16px] font-helvetica font-light nav-link relative">Home</a>
                        <a href="projects.html" class="text-[16px] font-helvetica font-light nav-link relative">Projects</a>
                        <a href="https://docs.google.com/document/d/1RXj2iDbQUYEA5Zh2meN2EXdoaU2CWZfN_qSqDnq9CNY/edit?tab=t.0" target="_blank" class="text-[16px] font-helvetica font-light nav-link relative">Resume</a>
                        <a href="about.html" class="text-[16px] font-helvetica font-light nav-link relative">About</a>
                        <div class="relative" id="mobile-contact-dropdown">
                            <button class="text-[16px] font-helvetica font-light nav-link relative contact-dropdown" onclick="toggleMobileContact()">Contact</button>
                            <div class="mt-2 opacity-0 invisible contact-dropdown-menu transition-all duration-200" id="mobile-contact-menu">
                                <div class="relative pl-2">
                                    <div class="px-3 py-2">
                                        <div class="space-y-2 text-left">
                                            <p class="text-[14px] font-helvetica font-bold text-black whitespace-nowrap">Let's build something thoughtful.</p>
                                            <div class="space-y-1">
                                                <button onclick="copyEmail()" class="block text-[14px] font-helvetica font-light hover:text-[#18a000] transition-colors text-left w-full">c.a.rodriguez1999@gmail.com</button>
                                                <a href="https://www.linkedin.com/in/carloscoding/" target="_blank" class="block text-[14px] font-helvetica font-light hover:text-[#18a000] transition-colors">LinkedIn</a>
                                                <a href="https://github.com/CRodriguez245" target="_blank" class="block text-[14px] font-helvetica font-light hover:text-[#18a000] transition-colors">GitHub</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="absolute top-0 left-0 w-0.5 bg-black h-0 transition-all duration-500 ease-out" id="mobile-contact-line"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="max-w-[960px] mx-auto pt-20 md:pt-32 px-4 md:px-12">
            <!-- Article Header -->
            <div class="mb-8 md:mb-16">
                <h1 class="text-[28px] md:text-[40px] font-helvetica font-medium text-black leading-[28px] md:leading-[40px] mb-2">
                    Design is What You Don't See
                </h1>
                <p class="text-[14px] md:text-[16px] font-helvetica font-light text-black leading-[18px] md:leading-[20px]">
                    July 18, 2025
                </p>
            </div>
            
            <!-- Hero Card -->
            <div class="relative w-full mb-8 md:mb-16 transition-all duration-300 ease-out hover:shadow-2xl hover:scale-105">
                <img src="images/ST.jpg" alt="Surface Tension" class="w-full object-contain">
            </div>
            
            <!-- Article Content -->
            <div class="max-w-[1135px] text-[16px] md:text-[20px] font-helvetica font-light text-black leading-[normal] space-y-4 md:space-y-6">
                <p class="font-helvetica font-bold">
                    Reflections on Karen Nakamura's Surface Tension and the politics of invisibility in design
                </p>
                
                <p>
                    In her project <em>Surface Tension</em>, Karen Nakamura placed prosthetic arms, hearing aids, glucose monitors, and other personal medical devices into a gallery space — not to showcase technology, but to provoke a reaction. They sat on pedestals, connected to air pumps. Every few minutes, they twitched, clicked, inflated, or emitted a low mechanical buzz.
                </p>
                
                <p>
                    There was no explanatory text.<br>
                    No interactive screen.<br>
                    No invitation to empathize.
                </p>
                
                <p>
                    Just the eerie tension of tools moving without users. Bodies implied but not present.
                </p>
                
                <p>
                    It was one of the most powerful critiques of human-centered design I've ever seen.
                </p>
                
                <div class="space-y-1">
                    <p class="font-helvetica font-bold">
                        Who Is the Interface For?
                    </p>
                    <p>
                        <em>Surface Tension</em> isn't about disability in a didactic way. It's about <strong>interdependency</strong>, <strong>systems</strong>, and the <strong>technopolitics of daily life</strong>. The gallery installation becomes a space where design is dislocated from its user — and that absence is the point.
                    </p>
                </div>
                
                <p>
                    It forces us to ask:
                </p>
                
                <ul class="list-disc pl-6 space-y-2">
                    <li>Who gets to be invisible in tech?</li>
                    <li>Whose tools are always visible?</li>
                    <li>What does it mean to be "autonomous" when your survival depends on designed systems?</li>
                </ul>
                
                <p>
                    This isn't speculative fiction. This is lived infrastructure. And Nakamura invites us to sit in that discomfort, not resolve it.
                </p>
                
                <div class="space-y-1">
                    <p class="font-helvetica font-bold">
                        Against Empathy
                    </p>
                    <p>
                        What I admire most is that this piece doesn't ask for pity or even understanding. It doesn't perform accessibility. It doesn't explain itself.
                    </p>
                </div>
                
                <p>
                    It simply exists — twitching, buzzing, reminding — in a space that is uncomfortable precisely because it breaks the traditional design loop of "need > use > resolution."
                </p>
                
                <p>
                    This is critical design that <em>withholds resolution</em> — not out of cruelty, but out of respect. It's a refusal to reduce a complex lived reality into a digestible design prompt. That's radical.
                </p>
                
                <div class="space-y-1">
                    <p class="font-helvetica font-bold">
                        What Designers Can Learn
                    </p>
                    <p>
                        <em>Surface Tension</em> doesn't teach us how to make better products.<br>
                        It teaches us to interrogate the <strong>systems</strong> in which products make people legible or illegible.<br>
                        It asks us to design <strong>with</strong>, not just <em>for</em> — and to do so slowly, respectfully, and with a greater sensitivity to what remains unsaid.
                    </p>
                </div>
                
                <p>
                    It also challenges the way we treat <strong>accessibility as a feature</strong>, instead of a perspective. Accessibility isn't about checking contrast ratios or adding alt text — it's about understanding that design always carries <strong>assumptions about what bodies do, what minds process, and what tools should stay hidden</strong>.
                </p>
                
                <div class="space-y-1">
                    <p class="font-helvetica font-bold">
                        Where I Carry This Work
                    </p>
                    <p>
                        Karen Nakamura's work continues to inform how I think about AI design, music interfaces, and systems that scaffold learning. Her work reminds me that <strong>a good product is not always a smooth one</strong>. Sometimes it's the glitch, the click, or the delay that tells the real story.
                    </p>
                </div>
                
                <p>
                    In a world rushing to make everything seamless, <em>Surface Tension</em> teaches me that design should sometimes <strong>linger</strong>, <strong>resist</strong>, or even <strong>refuse to explain itself</strong> — because not everything should be optimized. Some things should simply be witnessed.
                </p>
                
                <p class="text-[20px] font-helvetica font-light italic mt-8">
                    "Not everything should be optimized. Some things should simply be witnessed."
                </p>
            </div>

            <!-- Navigation -->
            <div class="flex justify-between mt-8 md:mt-16">
                <a href="ai-beyond-chat.html" class="flex items-center space-x-2 text-[16px] font-helvetica font-light hover:text-[#18a000] transition-colors">
                    <span class="text-[20px]">&lt;</span>
                    <span>AI Beyond the Chat</span>
                </a>
                <a href="trust-is-the-product.html" class="flex items-center space-x-2 text-[16px] font-helvetica font-light hover:text-[#18a000] transition-colors">
                    <span class="text-left">Trust Is The Product</span>
                    <span class="text-[20px]">&gt;</span>
                </a>
            </div>

            <!-- Footer -->
            <footer class="bg-white border-t border-gray-200 mt-12 md:mt-20">
                <!-- Desktop Footer -->
                <div class="hidden md:block max-w-7xl mx-auto px-4 md:px-12 py-6 md:py-8">
                    <div class="flex flex-col md:flex-row md:justify-between md:items-center space-y-4 md:space-y-0">
                        <div class="flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-8">
                            <div>
                                <h3 class="text-[18px] md:text-[20px] font-nuosu mb-0">Carlos Rodriguez</h3>
                                <p class="text-[12px] md:text-[14px] font-helvetica font-light text-gray-600">AI Product Manager</p>
                            </div>
                            <div class="hidden md:block border-l border-gray-300 h-12"></div>
                            <div class="hidden md:block">
                                <p class="text-[12px] md:text-[14px] font-helvetica font-light text-gray-600 mb-1">Let's build something thoughtful.</p>
                                <div class="flex space-x-4">
                                    <button onclick="copyEmail()" class="text-[12px] md:text-[14px] font-helvetica font-light text-gray-600 hover:text-[#18a000] transition-colors">Email</button>
                                    <a href="https://www.linkedin.com/in/carloscoding/" target="_blank" class="text-[12px] md:text-[14px] font-helvetica font-light text-gray-600 hover:text-[#18a000] transition-colors">LinkedIn</a>
                                    <a href="https://github.com/CRodriguez245" target="_blank" class="text-[12px] md:text-[14px] font-helvetica font-light text-gray-600 hover:text-[#18a000] transition-colors">GitHub</a>
                                </div>
                            </div>
                        </div>
                        <div class="hidden md:block text-center md:text-right">
                            <p class="text-[14px] font-helvetica font-light text-gray-600">© 2025 Carlos Rodriguez</p>
                            <p class="text-[12px] font-helvetica font-light text-gray-500 mt-1">Co-founder of <span class="text-[#9a472f]">Better Problems</span></p>
                            <p class="text-[12px] font-helvetica font-light text-gray-500 mt-1">Powered by <span class="text-[#18a000]">Cursor AI</span>, Figma, and GPT</p>
                        </div>
                    </div>
                </div>
                
                <!-- Mobile Footer -->
                <div class="md:hidden px-4 py-6">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-[18px] font-nuosu mb-0">Carlos Rodriguez</h3>
                            <p class="text-[12px] font-helvetica font-light text-gray-600">AI Product Manager</p>
                        </div>
                        <div>
                            <p class="text-[12px] font-helvetica font-light text-gray-600 mb-1">Let's build something thoughtful.</p>
                            <div class="flex space-x-4">
                                <button onclick="copyEmail()" class="text-[12px] font-helvetica font-light text-gray-600 hover:text-[#18a000] transition-colors">Email</button>
                                <a href="https://www.linkedin.com/in/carloscoding/" target="_blank" class="text-[12px] font-helvetica font-light text-gray-600 hover:text-[#18a000] transition-colors">LinkedIn</a>
                                <a href="https://github.com/CRodriguez245" target="_blank" class="text-[12px] font-helvetica font-light text-gray-600 hover:text-[#18a000] transition-colors">GitHub</a>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <p class="text-[14px] font-helvetica font-light text-gray-600">© 2025 Carlos Rodriguez</p>
                        <p class="text-[12px] font-helvetica font-light text-gray-500 mt-1">Co-founder of <span class="text-[#9a472f]">Better Problems</span></p>
                        <p class="text-[12px] font-helvetica font-light text-gray-500 mt-1">Powered by <span class="text-[#18a000]">Cursor AI</span>, Figma, and GPT</p>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- Email Copy Popup -->
    <div id="email-popup" class="fixed top-4 right-4 text-gray-700 px-3 py-2 font-helvetica text-[12px] z-[10000] transition-all duration-300 ease-in-out" style="display: none; opacity: 0; transform: translateY(-10px);">
        <span>Email copied to clipboard</span>
        <!-- Rolling line animation -->
        <div class="absolute top-0 right-0 w-1 h-full bg-black transform scale-y-0 transition-transform duration-500 ease-out origin-top" id="popup-line"></div>
    </div>

    <!-- AI Sidekick -->
    <div class="fixed bottom-0 right-2 md:right-8 w-[calc(100vw-16px)] md:w-1/4 md:max-w-[394px] flex flex-col z-[9999] transition-all duration-500 ease-in-out" id="ai-sidekick">
        <div class="overflow-hidden transition-all duration-500 ease-in-out" id="chat-container">
            <div class="font-['IBM_Plex_Mono'] text-[14px] space-y-4 mb-4 max-h-[calc(100vh-200px)] overflow-y-auto pr-2" id="chat-messages">
                <p class="text-[#18a000]">Hi! I'm Carlos's AI sidekick. I can navigate you through his portfolio and share insights about his process, values, and strategic thinking. Ask me anything about his projects, experience, or dive deeper into his approach!</p>
            </div>
            <div class="font-['IBM_Plex_Mono'] text-[14px] mb-4 flex" id="chat-input-container">
                <span class="text-black mt-[2px]">></span>
                <div class="relative flex-1 ml-2">
                    <textarea 
                        class="bg-transparent border-none font-['IBM_Plex_Mono'] text-[14px] w-full outline-none text-black resize-none overflow-hidden p-0 leading-normal"
                        placeholder="Ask me anything..."
                        id="chat-input"
                        rows="1"
                        style="height: 20px;"
                    ></textarea>
                </div>
            </div>
        </div>
        <div class="bg-[#18a000] p-4 cursor-pointer" id="sidekick-button" onclick="toggleSidekick()">
            <h3 class="text-white text-center font-['IBM_Plex_Mono'] font-bold" id="sidekick-text">AI Sidekick</h3>
        </div>
    </div>

    <script>
        // Cursor functionality
        const cursor = document.getElementById('cursor');
        
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
        
        document.addEventListener('mouseenter', () => {
            cursor.style.display = 'block';
        });
        
        document.addEventListener('mouseleave', () => {
            cursor.style.display = 'none';
        });
        
        // Add hover effect to interactive elements
        const interactiveElements = document.querySelectorAll('a, button, .nav-link, .contact-dropdown');
        interactiveElements.forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursor.classList.add('hover');
            });
            el.addEventListener('mouseleave', () => {
                cursor.classList.remove('hover');
            });
        });

        // Initialize AI sidekick
        let simpleSidekick = null;
        let openaiSidekick = null;

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize sidekicks
            simpleSidekick = new SimpleContextSidekick();
            openaiSidekick = new OpenAISidekick();
            
            // Set up chat input
            const chatInput = document.getElementById('chat-input');
            const chatMessages = document.getElementById('chat-messages');
            
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    
                    const userMessage = chatInput.value.trim();
                    if (userMessage) {
                        // Add user message
                        addMessage(userMessage, 'user');
                        chatInput.value = '';
                        
                        // Get response
                        try {
                            const response = openaiSidekick ? openaiSidekick.getResponse(userMessage) : simpleSidekick.getResponse(userMessage);
                            addMessage(response, 'ai');
                        } catch (error) {
                            console.error('Error getting response:', error);
                            addMessage('Sorry, I encountered an error. Please try again.', 'ai');
                        }
                    }
                }
            });
            
            function addMessage(message, sender) {
                const messageDiv = document.createElement('p');
                messageDiv.className = sender === 'user' ? 'text-black' : 'text-[#18a000]';
                messageDiv.textContent = sender === 'user' ? `> ${message}` : message;
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        });

        // Copy email to clipboard
        function copyEmail() {
            const email = 'c.a.rodriguez1999@gmail.com';
            
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(email).then(() => {
                    showEmailPopup();
                }).catch(err => {
                    console.error('Failed to copy: ', err);
                    fallbackCopyEmail(email);
                });
            } else {
                fallbackCopyEmail(email);
            }
        }

        // Fallback copy method for older browsers
        function fallbackCopyEmail(email) {
            const textArea = document.createElement('textarea');
            textArea.value = email;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showEmailPopup();
            } catch (err) {
                console.error('Fallback copy failed: ', err);
            }
            
            document.body.removeChild(textArea);
        }

        // Show email copy popup
        function showEmailPopup() {
            const popup = document.getElementById('email-popup');
            const popupLine = document.getElementById('popup-line');
            
            // Reset any existing timeouts
            if (popup.timeoutId) {
                clearTimeout(popup.timeoutId);
            }
            
            // Show popup with fade-in animation
            popup.style.display = 'block';
            
            // Trigger animation after a brief delay to ensure display is set
            setTimeout(() => {
                popup.style.opacity = '1';
                popup.style.transform = 'translateY(0)';
                
                // Start rolling line animation down as text appears
                setTimeout(() => {
                    popupLine.style.transform = 'scaleY(1)';
                }, 100);
            }, 10);
            
            // Hide popup after 3 seconds
            popup.timeoutId = setTimeout(() => {
                // Start rolling line animation up and fade out popup simultaneously
                popupLine.style.transform = 'scaleY(0)';
                popup.style.opacity = '0';
                popup.style.transform = 'translateY(-10px)';
                
                // Hide completely after fade
                setTimeout(() => {
                    popup.style.display = 'none';
                }, 300);
            }, 3000);
        }
        
        // Mobile sidekick functionality
        let sidekickCollapsed = false;
        
        function toggleSidekick() {
            const aiSidekick = document.getElementById('ai-sidekick');
            const chatContainer = document.getElementById('chat-container');
            const sidekickText = document.getElementById('sidekick-text');
            const mainContent = document.getElementById('main-content');
            const chatInput = document.getElementById('chat-input');
            const isMobile = window.innerWidth <= 768;
            
            if (isMobile) {
                if (sidekickCollapsed) {
                    // Expand on mobile
                    aiSidekick.classList.add('mobile-fullscreen');
                    mainContent.classList.add('mobile-hidden');
                    chatContainer.style.display = 'block';
                    sidekickText.textContent = '×';
                } else {
                    // Collapse on mobile
                    aiSidekick.classList.remove('mobile-fullscreen');
                    mainContent.classList.remove('mobile-hidden');
                    chatContainer.style.display = 'none';
                    sidekickText.textContent = 'AI';
                }
            } else {
                // Desktop behavior
                if (sidekickCollapsed) {
                    // Expand
                    aiSidekick.style.width = '25%';
                    aiSidekick.style.maxWidth = '394px';
                    chatContainer.style.display = 'block';
                    sidekickText.textContent = 'AI Sidekick';
                    mainContent.style.width = '75%';
                    mainContent.style.marginLeft = '0';
                } else {
                    // Collapse
                    aiSidekick.style.width = '80px';
                    aiSidekick.style.maxWidth = '80px';
                    chatContainer.style.display = 'none';
                    sidekickText.textContent = 'AI';
                    mainContent.style.width = '75%';
                    mainContent.style.marginLeft = '12.5%';
                }
            }
            
            sidekickCollapsed = !sidekickCollapsed;
            sessionStorage.setItem('sidekickCollapsed', sidekickCollapsed.toString());
        }
        
        // Initialize sidekick state
        function initializeSidekickState() {
            const savedState = sessionStorage.getItem('sidekickCollapsed');
            const isMobile = window.innerWidth <= 768;
            const aiSidekick = document.getElementById('ai-sidekick');
            const chatContainer = document.getElementById('chat-container');
            const sidekickText = document.getElementById('sidekick-text');
            const mainContent = document.getElementById('main-content');
            
            if (savedState === null) {
                if (isMobile) {
                    sidekickCollapsed = true;
                    sessionStorage.setItem('sidekickCollapsed', 'true');
                    // Ensure mobile styling is applied immediately
                    if (aiSidekick) { aiSidekick.classList.remove('mobile-fullscreen'); }
                    if (mainContent) { mainContent.classList.remove('mobile-hidden'); }
                    if (chatContainer) { chatContainer.style.display = 'none'; }
                    if (sidekickText) { sidekickText.textContent = 'AI'; }
                }
            } else {
                sidekickCollapsed = savedState === 'true';
                if (isMobile) {
                    if (sidekickCollapsed) {
                        // Collapsed state
                        if (aiSidekick) { aiSidekick.classList.remove('mobile-fullscreen'); }
                        if (mainContent) { mainContent.classList.remove('mobile-hidden'); }
                        if (chatContainer) { chatContainer.style.display = 'none'; }
                        if (sidekickText) { sidekickText.textContent = 'AI'; }
                    } else {
                        // Expanded state
                        if (aiSidekick) { aiSidekick.classList.add('mobile-fullscreen'); }
                        if (mainContent) { mainContent.classList.add('mobile-hidden'); }
                        if (chatContainer) { chatContainer.style.display = 'block'; }
                        if (sidekickText) { sidekickText.textContent = '×'; }
                    }
                } else {
                    // Desktop state
                    if (sidekickText) { sidekickText.textContent = sidekickCollapsed ? 'AI' : 'AI Sidekick'; }
                }
            }
        }
        
        // Mobile menu functionality
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const hamburgerIcon = document.getElementById('hamburger-icon');
            const xIcon = document.getElementById('x-icon');
            
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                    
                    // Toggle icons
                    if (mobileMenu.classList.contains('hidden')) {
                        hamburgerIcon.classList.remove('hidden');
                        xIcon.classList.add('hidden');
                    } else {
                        hamburgerIcon.classList.add('hidden');
                        xIcon.classList.remove('hidden');
                    }
                });
            }
            
            // Initialize sidekick state
            initializeSidekickState();
        });
        
        // Handle window resize
        window.addEventListener('resize', function() {
            const isMobile = window.innerWidth <= 768;
            const aiSidekick = document.getElementById('ai-sidekick');
            const mainContent = document.getElementById('main-content');
            
            if (isMobile) {
                aiSidekick.classList.remove('mobile-fullscreen');
                mainContent.classList.remove('mobile-hidden');
            }
        });
        
        // Mobile Contact dropdown toggle function
        function toggleMobileContact() {
            const contactMenu = document.getElementById('mobile-contact-menu');
            const contactLine = document.getElementById('mobile-contact-line');
            
            if (contactMenu.classList.contains('invisible')) {
                // Show dropdown
                contactMenu.classList.remove('invisible', 'opacity-0');
                contactMenu.classList.add('opacity-100');
                contactLine.style.height = '100%';
            } else {
                // Hide dropdown
                contactMenu.classList.add('invisible', 'opacity-0');
                contactMenu.classList.remove('opacity-100');
                contactLine.style.height = '0';
            }
        }
        
        // Initialize immediately if DOM is already ready
        if (document.readyState === 'loading') {
            // DOM is still loading, wait for DOMContentLoaded
        } else {
            // DOM is already ready, initialize immediately
            initializeSidekickState();
        }
    </script>
</body>
</html> 